(this["webpackJsonpstocks-checklist"]=this["webpackJsonpstocks-checklist"]||[]).push([[0],{39:function(e,t,c){},41:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n=c(2),o=c(0),s=c.n(o),a=c(18),i=c.n(a),r=(c(39),c(32)),u=c(17),j=c(15),l=c(3),b=c(23),d=c.n(b),O=c(4),f=(c(41),d.a.mark(h));function h(e,t){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=0;case 1:if(!(c<e.length)){n.next=8;break}if(!t.test(e[c].symbol)){n.next=5;break}return n.next=5,e[c];case 5:c++,n.next=1;break;case 8:case"end":return n.stop()}}),f)}var v=function(e){var t,c,s=e.onAddStock,a=Object(o.useState)(""),i=Object(l.a)(a,2),r=i[0],u=i[1],j=Object(o.useState)([]),b=Object(l.a)(j,2),d=b[0],f=b[1],v=Object(o.useState)(!1),m=Object(l.a)(v,2),x=m[0],g=m[1],k=Object(o.useState)(!1),p=Object(l.a)(k,2),y=p[0],S=p[1],N=Object(o.useState)([]),C=Object(l.a)(N,2),w=C[0],A=C[1],R=Object(o.useState)(null),L=Object(l.a)(R,2),E=L[0],P=L[1],T=Object(o.useRef)(null),F=Object(o.useRef)(null),D=Object(O.g)();Object(o.useEffect)((function(){if(x&&""!=r){for(var e=h(d,new RegExp("^".concat(r),"i")),t=[],c=0;c<5;c++){var n=e.next();if(n.done)break;t.push(n.value)}A(t)}}),[r,x,y]);var U=null===(t=T.current)||void 0===t?void 0:t.getBoundingClientRect(),I=null===(c=F.current)||void 0===c?void 0:c.getBoundingClientRect(),J={top:(null===U||void 0===U?void 0:U.bottom)+3,left:((null===I||void 0===I?void 0:I.width)-(null===U||void 0===U?void 0:U.width))/2};return Object(n.jsxs)("div",{className:"SearchInput",children:[Object(n.jsx)("input",{type:"text",ref:T,onFocus:function(e){E&&(clearTimeout(E),P(null)),x||B().then((function(e){f(e),g(!0)})),S(!0)},onBlur:function(e){P(setTimeout((function(){return S(!1)}),300))},value:r,onChange:function(e){return u(e.target.value)}}),y&&w.length>0?Object(n.jsx)("div",{className:"found-stocks",style:J,children:w.map((function(e){return Object(n.jsxs)("div",{onClick:function(t){"BUTTON"!=t.target.tagName&&D.push("/stock/".concat(e.symbol))},children:[Object(n.jsx)("span",{children:e.symbol}),Object(n.jsx)("span",{className:"found-stock-description",children:e.description}),Object(n.jsx)("button",{type:"button",onClick:function(){var t;null===(t=T.current)||void 0===t||t.focus(),s(e.symbol),console.log("clicked")},className:"add-stock-btn",children:"Add to checklist"})]},e.symbol)}))}):null]})},m=(c(46),function(){return Object(n.jsx)("div",{className:"Logo",children:Object(n.jsx)("h1",{children:"Checklist"})})}),x=(c(47),c(29)),g=c.n(x),k=function(e){var t=e.categories,c=e.onAddCategory,s=e.onSelectCategory,a=e.selectedCategory,i=Object(o.useState)(!1),r=Object(l.a)(i,2),u=r[0],j=r[1],b=Object(o.useState)(""),d=Object(l.a)(b,2),f=d[0],h=d[1],v=Object(o.useRef)(null),m=Object(O.g)();Object(O.h)();Object(o.useEffect)((function(){u&&v&&v.current&&v.current.focus()}),[u]);var x=function(){j(!u)};return console.log(a),Object(n.jsxs)("div",{className:"CategoriesList",children:[Object(n.jsxs)("div",{className:"category-header",children:["Categories",Object(n.jsx)("button",{disabled:u,className:"add-category-btn",onClick:x,children:"+"})]}),t.map((function(e){return Object(n.jsxs)("div",{className:"category-item",style:e===a?{backgroundColor:"rgba(0, 0, 0, .25)"}:{},onClick:function(t){s(e),m.push("/categories/".concat(e))},children:[Object(n.jsx)(g.a,{}),Object(n.jsxs)("span",{children:[" ",e]})]},e)})),u&&Object(n.jsx)("div",{className:"",children:Object(n.jsx)("input",{onChange:function(e){return h(e.target.value)},onBlur:function(){c(f),x(),h("")},onKeyDown:function(e){"Enter"===e.key&&e.target.blur()},ref:v,value:f,type:"text"})})]})},p=(c(50),c(51),function(e){var t=e.stockPrices,c=t.c-t.pc,o=c/t.c*100,s={color:c>0?"green":"red"};return Object(n.jsxs)("span",{className:"StockPriceChange",style:s,children:[c>0&&"+",c.toFixed(2),"(",o>0&&"+",o.toFixed(2),"%)"]})}),y=function(e){var t=e.ticker,c=e.onRemoveStock,s=Object(O.g)(),a=Object(o.useState)(!1),i=Object(l.a)(a,2),r=i[0],u=i[1],j=Object(o.useState)(null),b=Object(l.a)(j,2),d=b[0],f=b[1],h=Object(o.useState)({}),v=Object(l.a)(h,2),m=v[0],x=v[1],g=Object(o.useState)({}),k=Object(l.a)(g,2),y=k[0],S=k[1];return Object(o.useEffect)((function(){Promise.all([A(t),R(t)]).then((function(e){x(e[0]),S(e[1]),u(!0)}),(function(e){f(e)}))}),[]),d?Object(n.jsx)("div",{children:d.message}):r?Object(n.jsxs)("div",{className:"StockCard",onClick:function(e){"BUTTON"!==e.target.tagName&&s.push("/stock/".concat(t))},children:[Object(n.jsx)("div",{className:"big-ticker",children:t}),Object(n.jsx)("div",{className:"full-stock-name",children:"Company name: ".concat(m.name)}),Object(n.jsxs)("div",{className:"stock-price",children:["$".concat(null===y||void 0===y?void 0:y.c),Object(n.jsx)(p,{stockPrices:y})]}),Object(n.jsx)("button",{type:"button",onClick:function(e){return c(t)},children:"X"})]}):Object(n.jsx)("div",{children:"Loading..."})},S=function(e){var t=e.categoriesData,c=e.onRemoveStock,o=Object(O.h)().categoryName;return Object(n.jsx)("div",{className:"StocksList",children:t[o]?t[o].map((function(e){return Object(n.jsx)(y,{onRemoveStock:c,ticker:e},e)})):Object(n.jsx)(O.a,{to:"/noSuchCategory"})})},N=(c(52),c(53),function(){var e=Object(O.h)(),t=Object(o.useState)(!1),c=Object(l.a)(t,2),s=c[0],a=c[1],i=Object(o.useState)(null),r=Object(l.a)(i,2),u=r[0],j=r[1],b=Object(o.useState)({}),d=Object(l.a)(b,2),f=d[0],h=d[1],v=Object(o.useState)({}),m=Object(l.a)(v,2),x=m[0],g=m[1];return Object(o.useEffect)((function(){Promise.all([A(e.ticker),R(e.ticker)]).then((function(e){a(!0),h(e[0]),g(e[1])}),(function(e){j(e)}))}),[e.ticker]),s?u?Object(n.jsx)("p",{children:u.message}):Object(n.jsxs)("div",{className:"StockFundamentals",children:[Object(n.jsxs)("h2",{children:[f.name," (",f.ticker,")"]}),Object(n.jsxs)("div",{className:"price-section",children:[Object(n.jsx)("span",{className:"current-price",children:x.c}),Object(n.jsx)(p,{stockPrices:x})]}),Object(n.jsx)("p",{children:f.description})]}):Object(n.jsx)("p",{children:"Loading..."})}),C={favorites:["AAPL","TSLA","AMZN","NFLX","FB"]},w="sandbox_bup9l3f48v6sjkjisljg";var A=function(e){return fetch("https://finnhub.io/api/v1/stock/profile?symbol="+e+"&token="+w).then((function(e){return e.json()}))},B=function(){return fetch("https://finnhub.io/api/v1/stock/symbol?exchange=US&token="+w).then((function(e){return e.json()}))},R=function(e){return fetch("https://finnhub.io/api/v1/quote?symbol="+e+"&token="+w).then((function(e){return e.json()}))},L=function(){var e=Object(o.useState)(C),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(o.useState)("favorites"),i=Object(l.a)(a,2),b=i[0],d=i[1];return Object(O.h)(),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"grid",children:[Object(n.jsx)(m,{}),Object(n.jsx)(v,{onAddStock:function(e){c[b].includes(e)||s(Object(j.a)(Object(j.a)({},c),{},Object(u.a)({},b,[].concat(Object(r.a)(c[b]),[e]))))}}),Object(n.jsx)("div",{className:"scrollable-container",children:Object(n.jsx)(k,{onAddCategory:function(e){""===e||c[e]||s(Object(j.a)(Object(j.a)({},c),{},Object(u.a)({},e,[])))},categories:Object.keys(c),onSelectCategory:function(e){d(e)},selectedCategory:b})}),Object(n.jsx)("div",{className:"scrollable-container background-secondary",children:Object(n.jsxs)(O.d,{children:[Object(n.jsx)(O.b,{path:"/categories/:categoryName",children:Object(n.jsx)(S,{categoriesData:c,onRemoveStock:function(e){var t=Object(j.a)({},c);t[b]=t[b].filter((function(t){return t!=e})),s(t)}})}),Object(n.jsx)(O.b,{path:"/stock/:ticker",children:Object(n.jsx)(N,{})}),Object(n.jsx)(O.a,{to:"/categories/favorites"})]})})]})})},E=c(21),P=Object(E.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),T=P.actions,F=(T.increment,T.decrement,T.incrementByAmount,P.reducer),D=Object(E.a)({reducer:{counter:F}}),U=c(31);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=c(13);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(I.a,{children:Object(n.jsx)(U.a,{store:D,children:Object(n.jsx)(L,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.d00aa1e7.chunk.js.map